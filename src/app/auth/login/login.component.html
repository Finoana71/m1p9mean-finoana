<h1 id="title" class="title">Se connecter</h1>
<p class="sub-title">Bienvenue dans E-Kaly</p>

<form (ngSubmit)="login()" #form="ngForm" aria-labelledby="title">

  <div class="form-control-group">
    <label class="label" for="input-email">Email</label>
    <input nbInput
           fullWidth
           [(ngModel)]="user.email"
           #email="ngModel"
           name="email"
           id="input-email"
           pattern=".+@.+\..+"
           placeholder="Email address"
           fieldSize="large"
           autofocus
           class="form-control form-control-sm"/>
    <ng-container *ngIf="forms.email.errors">
      <p class="caption status-danger" *ngIf="forms.email.errors?.required">
        Veuillez renseigner un email
      </p>
      <p class="caption status-danger" *ngIf="forms.email.errors?.email">
        Veuillez renseigner un email valide
      </p>
    </ng-container>
  </div>

  <div class="form-control-group">
    <span class="label-with-link">
      <label class="label" for="input-password">Mot de passe:</label>
    </span>
    <input nbInput
           fullWidth
           [(ngModel)]="user.motDePasse"
           name="motDePasse"
           type="motDePasse"
           id="input-password"
           placeholder="Mot de passe"
           fieldSize="large"
           class="form-control form-control-sm"/>
    <ng-container *ngIf="forms.motDePasse.errors">
      <p class="caption status-danger" *ngIf="forms.motDePasse.errors?.required">
        Veuillez renseigner le mot de passe
      </p>
      <p class="caption status-danger" *ngIf="forms.motDePasse.errors?.minlength || forms.motDePasse.errors?.maxlength">
        Le mot de passe doit avoir 8 caractÃ¨res minimum
      </p>
    </ng-container>
  </div>

  <button nbButton
          fullWidth
          status="primary"
          size="large"
          [disabled]="submitted || !form.valid"
          [class.btn-pulse]="submitted"
          Se connecter
          class="btn btn-outline-success form-control">
          Se connecter
  </button>
</form>

<section class="another-action" aria-label="Register">
  Vous avez deja encore un compte? <a class="text-link" routerLink="../inscription">S'inscrire</a>
</section>
